---
layout: base.njk
title: Task Board - Rob Spain Admin
permalink: /admin/tasks/
---

<style>
  .task-board {
    padding: 20px;
    max-width: 1400px;
    margin: 0 auto;
  }
  
  .task-board h1 {
    margin-bottom: 10px;
    color: #1a202c;
  }
  
  .board-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 30px;
  }
  
  .last-updated {
    color: #718096;
    font-size: 14px;
  }
  
  .board-columns {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 20px;
    margin-bottom: 30px;
  }
  
  .column {
    background: #f7fafc;
    border-radius: 8px;
    padding: 15px;
    min-height: 400px;
  }
  
  .column-header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    margin-bottom: 15px;
    padding-bottom: 10px;
    border-bottom: 2px solid #e2e8f0;
  }
  
  .column-title {
    font-weight: 600;
    font-size: 16px;
    display: flex;
    align-items: center;
    gap: 8px;
  }
  
  .column-count {
    background: #cbd5e0;
    color: #2d3748;
    padding: 2px 8px;
    border-radius: 12px;
    font-size: 12px;
    font-weight: 600;
  }
  
  .urgent { border-left: 4px solid #f56565; }
  .progress { border-left: 4px solid #ed8936; }
  .blocked { border-left: 4px solid #ecc94b; }
  .done { border-left: 4px solid #48bb78; }
  
  .task-card {
    background: white;
    border-radius: 6px;
    padding: 12px;
    margin-bottom: 10px;
    box-shadow: 0 1px 3px rgba(0,0,0,0.1);
    cursor: move;
    transition: all 0.2s;
  }
  
  .task-card:hover {
    box-shadow: 0 4px 6px rgba(0,0,0,0.1);
    transform: translateY(-2px);
  }
  
  .task-card.dragging {
    opacity: 0.5;
  }
  
  .task-title {
    font-weight: 600;
    margin-bottom: 6px;
    color: #2d3748;
  }
  
  .task-description {
    font-size: 13px;
    color: #4a5568;
    margin-bottom: 8px;
    line-height: 1.5;
  }
  
  .task-footer {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-top: 8px;
  }
  
  .task-time {
    font-size: 12px;
    color: #718096;
    background: #edf2f7;
    padding: 2px 8px;
    border-radius: 4px;
  }
  
  .task-actions {
    display: flex;
    gap: 8px;
  }
  
  .task-btn {
    background: none;
    border: none;
    cursor: pointer;
    padding: 4px 8px;
    border-radius: 4px;
    font-size: 12px;
    transition: all 0.2s;
  }
  
  .task-btn:hover {
    background: #edf2f7;
  }
  
  .complete-btn {
    color: #48bb78;
  }
  
  .delete-btn {
    color: #f56565;
  }
  
  .add-task-btn {
    width: 100%;
    padding: 10px;
    background: white;
    border: 2px dashed #cbd5e0;
    border-radius: 6px;
    color: #718096;
    font-size: 14px;
    cursor: pointer;
    transition: all 0.2s;
  }
  
  .add-task-btn:hover {
    border-color: #4299e1;
    color: #4299e1;
    background: #ebf8ff;
  }
  
  .stats-bar {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
    gap: 15px;
    margin-bottom: 30px;
  }
  
  .stat-card {
    background: white;
    padding: 15px;
    border-radius: 8px;
    box-shadow: 0 1px 3px rgba(0,0,0,0.1);
  }
  
  .stat-label {
    font-size: 12px;
    color: #718096;
    text-transform: uppercase;
    letter-spacing: 0.5px;
  }
  
  .stat-value {
    font-size: 24px;
    font-weight: 700;
    color: #2d3748;
    margin-top: 5px;
  }
  
  @media (max-width: 768px) {
    .board-columns {
      grid-template-columns: 1fr;
    }
  }
</style>

<div class="task-board">
  <div class="board-header">
    <div>
      <h1>üéØ Task Board</h1>
      <p class="last-updated">Last updated: <span id="last-updated"></span></p>
    </div>
  </div>
  
  <div class="stats-bar">
    <div class="stat-card">
      <div class="stat-label">Urgent Tonight</div>
      <div class="stat-value" id="stat-urgent">0</div>
    </div>
    <div class="stat-card">
      <div class="stat-label">In Progress</div>
      <div class="stat-value" id="stat-progress">0</div>
    </div>
    <div class="stat-card">
      <div class="stat-label">Blocked</div>
      <div class="stat-value" id="stat-blocked">0</div>
    </div>
    <div class="stat-card">
      <div class="stat-label">Completed Today</div>
      <div class="stat-value" id="stat-done">0</div>
    </div>
  </div>
  
  <div class="board-columns">
    <div class="column urgent" data-column="urgent">
      <div class="column-header">
        <span class="column-title">
          üî¥ Urgent Tonight
        </span>
        <span class="column-count" id="count-urgent">0</span>
      </div>
      <div class="task-list" id="urgent-tasks"></div>
      <button class="add-task-btn" onclick="addTask('urgent')">+ Add Task</button>
    </div>
    
    <div class="column progress" data-column="progress">
      <div class="column-header">
        <span class="column-title">
          üü° In Progress
        </span>
        <span class="column-count" id="count-progress">0</span>
      </div>
      <div class="task-list" id="progress-tasks"></div>
      <button class="add-task-btn" onclick="addTask('progress')">+ Add Task</button>
    </div>
    
    <div class="column blocked" data-column="blocked">
      <div class="column-header">
        <span class="column-title">
          ‚è∏Ô∏è Blocked
        </span>
        <span class="column-count" id="count-blocked">0</span>
      </div>
      <div class="task-list" id="blocked-tasks"></div>
      <button class="add-task-btn" onclick="addTask('blocked')">+ Add Task</button>
    </div>
    
    <div class="column done" data-column="done">
      <div class="column-header">
        <span class="column-title">
          ‚úÖ Done
        </span>
        <span class="column-count" id="count-done">0</span>
      </div>
      <div class="task-list" id="done-tasks"></div>
    </div>
  </div>
</div>

<script>
// Initialize tasks from localStorage or use defaults
let tasks = JSON.parse(localStorage.getItem('robTasks')) || {
  urgent: [
    {
      id: 1,
      title: 'Fix study.behaviorschool.com Auth',
      description: 'Add Supabase keys to Netlify environment variables',
      time: '15 min',
      guide: 'STUDY_AUTH_FIX_GUIDE.md'
    },
    {
      id: 2,
      title: 'Get Gemini API Key',
      description: 'Get FREE key from aistudio.google.com/apikey, add to Vercel',
      time: '2 min',
      guide: 'ACT_BSP_TECHNICAL_ARCHITECTURE.md'
    },
    {
      id: 3,
      title: 'Fix Google OAuth Redirect',
      description: 'Add redirect URI to Google Cloud Console for learning.behaviorschool.com',
      time: '2 min',
      guide: 'AUTH_SETUP_GUIDE.md'
    }
  ],
  progress: [
    {
      id: 4,
      title: 'ACT BSP System',
      description: '10% complete - 900 lines of code ready, waiting for Gemini API key',
      time: 'Ongoing',
      guide: 'ACT_BSP_MASTER_SUMMARY.md'
    }
  ],
  blocked: [
    {
      id: 5,
      title: 'Apple Sign In Implementation',
      description: 'Needs Apple Developer credentials ($99/year)',
      time: '1 hour',
      guide: 'APPLE_AUTH_REQUIRED.md'
    },
    {
      id: 6,
      title: 'Mac Mini SSH Key',
      description: 'Set up for GitHub pushes from Mac Mini',
      time: '5 min',
      guide: 'MAC_MINI_SETUP_TONIGHT.md'
    }
  ],
  done: []
};

function saveTasks() {
  localStorage.setItem('robTasks', JSON.stringify(tasks));
  updateCounts();
  updateLastUpdated();
}

function updateLastUpdated() {
  const now = new Date().toLocaleString();
  document.getElementById('last-updated').textContent = now;
}

function updateCounts() {
  ['urgent', 'progress', 'blocked', 'done'].forEach(column => {
    const count = tasks[column].length;
    document.getElementById(`count-${column}`).textContent = count;
    document.getElementById(`stat-${column}`).textContent = count;
  });
}

function renderTasks() {
  ['urgent', 'progress', 'blocked', 'done'].forEach(column => {
    const container = document.getElementById(`${column}-tasks`);
    container.innerHTML = tasks[column].map(task => `
      <div class="task-card" draggable="true" data-id="${task.id}">
        <div class="task-title">${task.title}</div>
        <div class="task-description">${task.description}</div>
        <div class="task-footer">
          <span class="task-time">‚è±Ô∏è ${task.time}</span>
          <div class="task-actions">
            ${column !== 'done' ? `<button class="task-btn complete-btn" onclick="markDone(${task.id})">‚úì</button>` : ''}
            <button class="task-btn delete-btn" onclick="deleteTask(${task.id})">√ó</button>
          </div>
        </div>
      </div>
    `).join('');
    
    // Add drag and drop listeners
    container.querySelectorAll('.task-card').forEach(card => {
      card.addEventListener('dragstart', handleDragStart);
      card.addEventListener('dragend', handleDragEnd);
    });
  });
  
  updateCounts();
  updateLastUpdated();
}

let draggedTask = null;

function handleDragStart(e) {
  draggedTask = this;
  this.classList.add('dragging');
  e.dataTransfer.effectAllowed = 'move';
}

function handleDragEnd(e) {
  this.classList.remove('dragging');
}

// Add drop zones
document.querySelectorAll('.task-list').forEach(list => {
  list.addEventListener('dragover', e => {
    e.preventDefault();
    e.dataTransfer.dropEffect = 'move';
  });
  
  list.addEventListener('drop', e => {
    e.preventDefault();
    const targetColumn = list.id.replace('-tasks', '');
    const taskId = parseInt(draggedTask.dataset.id);
    
    // Find and move task
    let task = null;
    for (let column in tasks) {
      const index = tasks[column].findIndex(t => t.id === taskId);
      if (index !== -1) {
        task = tasks[column].splice(index, 1)[0];
        break;
      }
    }
    
    if (task) {
      tasks[targetColumn].push(task);
      saveTasks();
      renderTasks();
    }
  });
});

function markDone(id) {
  for (let column in tasks) {
    const index = tasks[column].findIndex(t => t.id === id);
    if (index !== -1) {
      const task = tasks[column].splice(index, 1)[0];
      tasks.done.push(task);
      saveTasks();
      renderTasks();
      break;
    }
  }
}

function deleteTask(id) {
  if (confirm('Delete this task?')) {
    for (let column in tasks) {
      const index = tasks[column].findIndex(t => t.id === id);
      if (index !== -1) {
        tasks[column].splice(index, 1);
        saveTasks();
        renderTasks();
        break;
      }
    }
  }
}

function addTask(column) {
  const title = prompt('Task title:');
  if (!title) return;
  
  const description = prompt('Description:');
  const time = prompt('Estimated time:');
  
  const newTask = {
    id: Date.now(),
    title,
    description: description || '',
    time: time || '?',
    guide: ''
  };
  
  tasks[column].push(newTask);
  saveTasks();
  renderTasks();
}

// Initial render
renderTasks();
</script>
